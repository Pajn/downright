!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("babel-runtime/helpers/classCallCheck"),require("babel-runtime/helpers/createClass"),require("babel-runtime/helpers/possibleConstructorReturn"),require("babel-runtime/helpers/inherits"),require("react"),require("prop-types"),require("babel-runtime/helpers/extends"),require("react-dom"),require("invariant"),require("react-router-dom"),require("babel-runtime/helpers/toConsumableArray"));else if("function"==typeof define&&define.amd)define(["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","react","prop-types","babel-runtime/helpers/extends","react-dom","invariant","react-router-dom","babel-runtime/helpers/toConsumableArray"],t);else{var n="object"==typeof exports?t(require("babel-runtime/helpers/classCallCheck"),require("babel-runtime/helpers/createClass"),require("babel-runtime/helpers/possibleConstructorReturn"),require("babel-runtime/helpers/inherits"),require("react"),require("prop-types"),require("babel-runtime/helpers/extends"),require("react-dom"),require("invariant"),require("react-router-dom"),require("babel-runtime/helpers/toConsumableArray")):t(e["babel-runtime/helpers/classCallCheck"],e["babel-runtime/helpers/createClass"],e["babel-runtime/helpers/possibleConstructorReturn"],e["babel-runtime/helpers/inherits"],e.react,e["prop-types"],e["babel-runtime/helpers/extends"],e["react-dom"],e.invariant,e["react-router-dom"],e["babel-runtime/helpers/toConsumableArray"]);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(e,t,n,r,o,u,i,s,a,l,c){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("react")},function(e,t,n){"use strict";var r=n(0),o=n.n(r),u=n(1),i=n.n(u),s=n(2),a=n.n(s),l=n(3),c=n.n(l),p=n(4),m=n.n(p),h=n(6),f=n.n(h),b=function(e){function t(){return o()(this,t),a()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c()(t,e),i()(t,[{key:"render",value:function(){return m.a.createElement("ul",{style:this.props.style,role:"menu",onClick:this.props.onClick},this.props.children)}}]),t}(p.Component);b.propTypes={onClick:f.a.func,style:f.a.object,children:f.a.arrayOf(f.a.node)},b.defaultProps={onClick:function(){},style:{},children:null},t.a=b},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("invariant")},function(e,t,n){"use strict";var r=n(7),o=n.n(r),u=n(0),i=n.n(u),s=n(1),a=n.n(s),l=n(2),c=n.n(l),p=n(3),m=n.n(p),h=n(4),f=n.n(h),b=n(6),d=n.n(b),C=n(14),y=(n.n(C),n(5)),x=function(e){function t(e){i()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSubmenuMouseEnter=function(){n.setState({submenuVisible:!0})},n.onSubmenuMouseLeave=function(){n.setState({submenuVisible:!1})},n.onButtonClick=function(e){n.props.onClick(e),n.props.onCloseMenu()},n.state={submenuVisible:!1},n}return m()(t,e),a()(t,[{key:"innerElement",value:function(){var e=this;switch(this.props.type){case"label":return f.a.createElement("h2",null,this.props.content);case"separator":return f.a.createElement("hr",null);case"submenu":var n=o()({},this.props.submenuStyle,{left:"100%",top:0});return f.a.createElement("div",{onMouseEnter:this.onSubmenuMouseEnter,onMouseLeave:this.onSubmenuMouseLeave,style:{position:"relative"}},f.a.createElement("span",null,this.props.content),this.state.submenuVisible?f.a.createElement(y.a,{style:n},this.props.menu.map(function(n,r){return f.a.createElement(t,o()({key:r},n,{onCloseMenu:e.props.onCloseMenu}))})):null);case"link":return f.a.createElement(C.Link,{to:this.props.to},this.props.content);case"button":default:return f.a.createElement("button",{onClick:this.onButtonClick},this.props.content)}}},{key:"render",value:function(){return f.a.createElement("div",{title:this.props.tooltip},this.innerElement())}}]),t}(h.Component);x.propTypes={type:d.a.oneOf(["label","button","link","separator","submenu"]),caption:d.a.node,tooltip:d.a.string,onClick:d.a.func,onCloseMenu:d.a.func,className:d.a.string,menu:d.a.array,to:d.a.string,submenuStyle:d.a.object},x.defaultProps={type:"label",caption:null,tooltip:null,onClick:null},t.a=x},function(e,t,n){e.exports=n(12)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=n(13),u=n(10),i=n(15);n.d(t,"contextMenu",function(){return o.a}),n.d(t,"ContextMenu",function(){return r.a}),n.d(t,"ContextMenuItem",function(){return u.a}),n.d(t,"ContextMenuProvider",function(){return i.a})},function(e,t,n){"use strict";function r(e){return function(t){var n,r;return r=n=function(n){function r(){var e,t,n,o;s()(this,r);for(var u=arguments.length,i=Array(u),a=0;a<u;a++)i[a]=arguments[a];return t=n=p()(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),n.onContextMenu=function(){n.appendContextMenu()},o=t,p()(n,o)}return h()(r,n),l()(r,[{key:"appendContextMenu",value:function(){var t=e(this.props);this.context.contextMenuContext.addMenuItems(t)}},{key:"componentDidMount",value:function(){this.nearestNode=C.a.findDOMNode(this.innerNode),x()(this.nearestNode,"Could not find a DOM node to attach contextMenu to"),this.nearestNode.addEventListener("contextmenu",this.onContextMenu)}},{key:"componentWillUnmount",value:function(){this.nearestNode&&this.nearestNode.removeEventListener("contextmenu",this.onContextMenu)}},{key:"render",value:function(){var e=this;return b.a.createElement(t,u()({ref:function(t){e.innerNode=t}},this.props,this.state))}}]),r}(f.Component),n.contextTypes={contextMenuContext:M.a.shape({addMenuItems:M.a.func})},r}}var o=n(7),u=n.n(o),i=n(0),s=n.n(i),a=n(1),l=n.n(a),c=n(2),p=n.n(c),m=n(3),h=n.n(m),f=n(4),b=n.n(f),d=n(8),C=n.n(d),y=n(9),x=n.n(y),v=n(6),M=n.n(v);t.a=r},function(e,t){e.exports=require("react-router-dom")},function(e,t,n){"use strict";var r=n(7),o=n.n(r),u=n(16),i=n.n(u),s=n(0),a=n.n(s),l=n(1),c=n.n(l),p=n(2),m=n.n(p),h=n(3),f=n.n(h),b=n(4),d=n.n(b),C=n(8),y=(n.n(C),n(9)),x=n.n(y),v=n(5),M=n(10),k=function(e){function t(e){a()(this,t);var n=m()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onContextMenuCapture=function(){n.setState({menu:[]})},n.onContextMenu=function(e){0===n.state.menu.length?n.closeMenu():(e.preventDefault(),e.stopPropagation(),n.setState({menuIsOpen:!0,menuPosition:{x:e.clientX,y:e.clientY}}))},n.onMenuClick=function(e){e.stopPropagation()},n.onClick=function(){n.state.menuIsOpen&&n.closeMenu()},n.closeMenu=function(){n.setState({menuIsOpen:!1,menu:[],menuPosition:null})},n.state={menuIsOpen:!1,menu:[],menuPosition:null},n}return f()(t,e),c()(t,[{key:"getChildContext",value:function(){var e=this;return{contextMenuContext:{addMenuItems:function(t){t=t.map(function(e){if(e.constructor!==Array)return e;if(1===e.length)return{type:"label",content:e[0]};if(2===e.length){if("string"==typeof e[1])return{type:"link",content:e[0],to:e[1]};if("function"==typeof e[1])return{type:"button",content:e[0],onClick:e[1]};x()(!1,"Second element of menu item array should be a string or function, got: "+e[1])}else x()(!1,"Menu item array can have 1 or 2 elements, this one had "+e.length)}),e.setState({menu:e.state.menu.length?[].concat(i()(e.state.menu),[{type:"separator"}],i()(t)):t})},closeMenu:this.closeMenu}}}},{key:"componentDidMount",value:function(){this.nearestNode.addEventListener("contextmenu",this.onContextMenuCapture,!0),this.nearestNode.addEventListener("contextmenu",this.onContextMenu)}},{key:"componentWillUnmount",value:function(){this.nearestNode&&(this.nearestNode.removeEventListener("contextmenu",this.onContextMenu),this.nearestNode.removeEventListener("contextmenu",this.onContextMenuCapture,!0))}},{key:"renderMenu",value:function(){var e=this,t={position:"absolute",left:this.state.menuPosition.x+"px",top:this.state.menuPosition.y+"px",background:"#ddd"};return d.a.createElement(v.a,{style:t,onClick:this.onMenuClick},this.state.menu.map(function(n,r){return d.a.createElement(M.a,o()({key:r},n,{submenuStyle:t,onCloseMenu:e.closeMenu}))}))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{ref:function(t){return e.nearestNode=t},onClick:this.onClick},this.props.children,this.state.menuIsOpen?this.renderMenu():null)}}]),t}(b.Component);k.childContextTypes={contextMenuContext:d.a.PropTypes.shape({addMenuItems:d.a.PropTypes.func,closeMenu:d.a.PropTypes.func})},t.a=k},function(e,t){e.exports=require("babel-runtime/helpers/toConsumableArray")}])});